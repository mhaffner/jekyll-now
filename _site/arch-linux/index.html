<!DOCTYPE html>
<html>
  <head>
    <title>Why I'm Using Arch Linux – Matthew Haffner – PhD Candidate, Graduate Research Assistant</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="Like everyone else, when I first started using GNU/Linux I gravitated
toward Ubuntu. Ubuntu has some good things going for it, and I do
still hold some reverence for it as my first true GNU/Linux
experience. While using Ubuntu, I sought to try other distributions
and briefly used Fedora, Elementary OS, and Debian. With all of these
distributions – including Ubuntu – I came across a very similar
problem: having to manually add software repositories to get programs
that were more up-to-date than the package manager’s defaults. With
this comes the difficulty of deriving reproducible, purely command
line solutions to installing many of my staple programs. Building
packages from source is not the end of the world, but if there was a
distribution/package manager that had a workable version (for my
purposes) of all the packages I needed, wouldn’t that be worth
pursuing?

" />
    <meta property="og:description" content="Like everyone else, when I first started using GNU/Linux I gravitated
toward Ubuntu. Ubuntu has some good things going for it, and I do
still hold some reverence for it as my first true GNU/Linux
experience. While using Ubuntu, I sought to try other distributions
and briefly used Fedora, Elementary OS, and Debian. With all of these
distributions – including Ubuntu – I came across a very similar
problem: having to manually add software repositories to get programs
that were more up-to-date than the package manager’s defaults. With
this comes the difficulty of deriving reproducible, purely command
line solutions to installing many of my staple programs. Building
packages from source is not the end of the world, but if there was a
distribution/package manager that had a workable version (for my
purposes) of all the packages I needed, wouldn’t that be worth
pursuing?

" />
    
    <meta name="author" content="Matthew Haffner" />

    
    <meta property="og:title" content="Why I'm Using Arch Linux" />
    <meta property="twitter:title" content="Why I'm Using Arch Linux" />
    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Matthew Haffner - PhD Candidate, Graduate Research Assistant" href="/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="https://raw.githubusercontent.com/barryclark/jekyll-now/master/images/jekyll-logo.png" /></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">Matthew Haffner</a></h1>
            <p class="site-description">PhD Candidate, Graduate Research Assistant</p>
          </div>

          <nav>
            <a href="/">Blog</a>
            <a href="/about">About</a>
            <a href="/slides">Slides</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1>Why I'm Using Arch Linux</h1>

  <div class="entry">
    <p>Like everyone else, when I first started using GNU/Linux I gravitated
toward Ubuntu. Ubuntu has some good things going for it, and I do
still hold some reverence for it as my first true GNU/Linux
experience. While using Ubuntu, I sought to try other distributions
and briefly used Fedora, Elementary OS, and Debian. With all of these
distributions – including Ubuntu – I came across a very similar
problem: having to manually add software repositories to get programs
that were more up-to-date than the package manager’s defaults. With
this comes the difficulty of deriving reproducible, purely command
line solutions to installing many of my staple programs. Building
packages from source is not the end of the world, but if there was a
distribution/package manager that had a workable version (for my
purposes) of all the packages I needed, wouldn’t that be worth
pursuing?</p>

<p>Enter Arch Linux. Since using Arch, I’m not sure I’ve had to build
anything from source; I’ve installed everything with a simple
one-liner with <code class="highlighter-rouge">pacman</code> or <code class="highlighter-rouge">yaourt</code>. As mentioned in other posts, I
have a bad habit of nuking my system (both accidentally and not
accidentally), so I really like having an easy method of installing
various packages. Aside from this, my distribution of Arch Linux has
other really nice features that make it indispensable to me.</p>

<p><strong>Warning:</strong> <em>This is an opinionated piece, and there are certainly
shortcomings to my approach of installing software/troubleshooting
issues. Nevertheless, Arch Linux has seemed much more straightforward
to me, and at its core, I believe it’s more user-friendly. If I’m
being unfair to Ubuntu and you know of solutions to my problems, I’d
love to hear about it!</em></p>

<p>Installing multiple packages can be accomplished
with <code class="highlighter-rouge">pacman</code> by using</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pacman -S package1 package2 package3
</code></pre>
</div>

<p>for example. This can, of course, be replicated with <code class="highlighter-rouge">apt-get</code> on Ubuntu with</p>

<div class="highlighter-rouge"><pre class="highlight"><code>apt-get install package1 package2 package3
</code></pre>
</div>

<p>but if you have to manually add a PPA, a key, etc., this process becomes several
lines long for each package. This could be automated in a script, but the key
and repositories can change. Further, removing packages seems to be much easier
with <code class="highlighter-rouge">pacman</code> using</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pacman -R package
</code></pre>
</div>

<p>On the other hand <code class="highlighter-rouge">apt-get</code> uses a combination of <code class="highlighter-rouge">purge</code> and <code class="highlighter-rouge">remove</code>. I’m not
really sure which comes first or why, and I’m not really sure what these
commands fundamentally do. I’ve so often received errors with <code class="highlighter-rouge">apt-get update</code>
after removing packages that I’m left wondering if I’ve ever used these commands
correctly.</p>

<p>Certainly the argument in favor of Ubuntu (and against Arch Linux) is that
packages are more stable. This is probably true a package-to-package basis, but
I’ve had more difficulty with keeping the OS as whole stable with Ubuntu than
with Arch Linux. A large part of this has to do with distribution upgrades,
which have been a pain for me on Ubuntu but <strong>don’t exist</strong> in Arch Linux which
operates on a rolling release, so using the command <code class="highlighter-rouge">pacman -Syu</code> upgrades on
packages on the system, meaning that you have the mo taking the time tost current version of the
operating system possible once packages finish upgrading. Arch Linux users are
encouraged to do this regularly, and I do it several times a week.</p>

<p>This feature in Arch Linux (or the lack thereof in Ubuntu) was the ultimate
tipping point for me. A few months ago my graphics card died, so I bought a new
one. I could not <em>for the life of me</em> get it working in Ubuntu. It’s an AMD
card, (the RX 470), and these don’t always play nice with GNU/Linux in general.
But after trying a plethora of solutions, I decided that upgrading from 14.04 to
16.04 might be my best shot. Aside from not solving my graphics card issue,
this upgrade resulted in a whole host of packages not working correctly. At this
time, I decided to try Arch Linux which has a reputation of working with some of
the latest hardware.</p>

<p>To be precise, I’m using Manjaro which is an Arch Linux derivative. There are
plenty of other spin-offs from Arch Linux including Antergos, Apricity, and
ArchBang. Pure Arch Linux is a bit too stripped down for my liking; Manjaro
seems like a good balance between a highly configurable system and one that
allows you to hit the ground running. Aside from the simplicity of <code class="highlighter-rouge">pacman</code>,
Manjaro has some other nice features as well. It is <em>very</em> easy to install and
remove kernels (which ended up being part of the solution to using my new GPU on
GNU/Linux).</p>

<p>Over time, I’ve come to the conclusion that no GNU/Linux distribution is
perfect. I still have issue with Manjaro from time to time, and recently I was
wondering if I really gave Ubuntu a fair shot. Did I really exhaust all possible
solutions in getting the RX 470 to work? Is there a easier method to installing
packages that I’m just missing? And is <code class="highlighter-rouge">apt</code> or <code class="highlighter-rouge">aptitude</code> or whatever it’s
called really as cryptic as I’m making it out to be? A recent adventure has
confirmed my suspicions.</p>

<p>I recently released a tool called <code class="highlighter-rouge">shp2nosql</code> (I wrote about it
(here)[https://mhaffner.github.io] and it’s on GitHub
(here)[https://github.com/mhaffner/shp2nosql]), which, in a nutshell,
is designed to insert spatial data into NoSQL databases. I did all of
my initial testing on local machines running Manjaro. Before pushing
the code to a public repository on GitHub, I decided to do some
testing on other GNU/Linux distributions so ensure that it would be as
portable as possible. I started with a clean instance of Ubuntu in a
virtual machine and installed software from the ground up to ensure
everything would work. Below is the code I used to install
dependencies:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo add-apt-repository universe # for gdal
sudo add-apt-repository ppa:webupd8team/java # for java
sudo apt-get update
sudo apt-get install git gdal-bin curl oracle-java8-installer vim
cd ~
git clone https://github.com/mhaffner/shp2nosql
PATH=$PATH:~/shp2nosql

wget -qO - https://artifacts.elastic.co/GPG-KEY-elasticsearch | sudo apt-key add -
sudo apt-get install apt-transport-https
echo "deb https://artifacts.elastic.co/packages/5.x/apt stable main" | sudo tee -a /etc/apt/sources.list.d/elastic-5.x.list
sudo apt-get update &amp;&amp; sudo apt-get install elasticsearch
sudo systemctl enable elasticsearch.service
sudo systemctl start elasticsearch

sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv EA312927
echo "deb http://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/3.2 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-3.2.list
sudo apt-get update
sudo apt-get install -y mongodb-org
cp ~/shp2nosql/development/mongodb.service /etc/systemd/system/mongodb.service
sudo systemctl start mongodb
</code></pre>
</div>

<p>What a challenge! And the first time I did this I had to manually
alter <code class="highlighter-rouge">elasticsearch.yml</code> and <code class="highlighter-rouge">mongodb</code> because the defaults were not
sufficient. Compare this to what I needed for Manjaro:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo pacman -Syu elasticsearch mongodb vim
sudo systemctl start elasticsearch
sudo systemctl start mongodb
git clone https://github.com/mhaffner/shp2nosql
PATH=$PATH:~/shp2nosql
# add code here
</code></pre>
</div>

<p>Now some of this difference is due to the suite of pre-packaged
software that comes with Manjaro; it comes with <code class="highlighter-rouge">curl</code> and <code class="highlighter-rouge">java</code>
whereas Ubuntu does not. This is somewhat counter-intuitive because
Arch Linux in general takes a DIY approach - The developers seek to
create an non-bloated experience, making design decisions that don’t
force users down a specific path. The mere concept of an Arch-based
distribution deviates from this approach, but if developers make
mostly good design decisions that work for me, that I can change if I
want, and that help me get a system up and running much faster than a
bare bones installation, then I’m ok with this. Now it’s also likely
that other Arch Linux distributions would need something slightly
different than what I have above, but the point still stands: many one
liners with Arch are multi-step processes with Ubuntu (this includes
installation of <code class="highlighter-rouge">QGIS</code>, <code class="highlighter-rouge">R</code>, and <code class="highlighter-rouge">Emacs</code> - all of which are staple for
me). One solution to the dependency problem is something like
(Docker)[link], but I doubt we’ll ever reach the point at which
everything is installed through such services.</p>

<p>With the confusion I’ve endured with Ubuntu, I simply don’t think I
can recommend it anymore, especially to new users. In this piece I
focused mostly on package installation, but there are other design
decisions of Manjaro (or other Arch-based distributions) vs. Ubuntu
that are worth mentioning here:</p>
<ul>
  <li><code class="highlighter-rouge">systemd</code> (which does not require root access) vs. <code class="highlighter-rouge">pm-utils</code> (which
does require root and is not installed by default) for
suspend/reboot/etc. operations.
    <ul>
      <li>To be fair, Ubuntu 16+ now comes installed with <code class="highlighter-rouge">systemd</code> by
default)</li>
    </ul>
  </li>
  <li>KDE vs. Unity:
    <ul>
      <li>To be fair again, Manjaro comes with two DE options: XFCE and
KDE, and XFCE is actually the “flagship” DE. Also, installing a
DE after installation is not tremendously difficult, and Ubuntu
derivatives like Kubuntu come with KDE as well.</li>
    </ul>
  </li>
  <li>Documentation: the Arch Wiki is incredible, and 90%+ of the time I
go no farther than it when needing to help with anything Arch
related. I cannot say the same for Ubuntu.</li>
  <li>Less bloated-ness: Manjaro just feels less bloated than Ubuntu (no
Software Center, for instance)</li>
</ul>

<p>Some of the problems I still have find with Manjaro:</p>
<ul>
  <li><strong>Managing my desktop settings.</strong> I can’t stand point and click
menus. I want my desktop version controlled through a single config
file, just like my <code class="highlighter-rouge">.spacemacs</code> and <code class="highlighter-rouge">.vimrc</code>. I’ve heard that i3 is
a solution to this, but I don’t think I want a tiling window
manager. I like to stack windows on top of one another and switch as
I need. Spacemacs’ window control features are already great, and I
like Spacemacs to be fullscreen anyway. That’s how I like it. A
different, simple desktop could work, but I desperately need a
launcher (which is not available on LXDE, LXQT, and XFCE from my
understanding), so that I can launch programs with <code class="highlighter-rouge">Super</code>.</li>
  <li><strong>Integration of <code class="highlighter-rouge">pacman</code> and <code class="highlighter-rouge">yaourt</code> package management</strong>
Upgrading packages with <code class="highlighter-rouge">pacman</code> is easy, but <code class="highlighter-rouge">yaourt</code> seems more
difficult to me. Is it possible to integrate these?</li>
  <li>
    <p><strong>Breakage of <code class="highlighter-rouge">yaourt</code> packages</strong> This only happened to me once, but
it was enough to make me reconsider the viability of an Arch Linux
production  server. After a system upgrade, QGIS (installed via
<code class="highlighter-rouge">yaourt</code>) broke. A forum user came up with a combination of
downgrades that got QGIS working, but downgrades are not officially
supported, and I couldn’t upgrade <code class="highlighter-rouge">pacman</code> packages after this
downgrade.</p>
  </li>
  <li>Other nice Manjaro features: kernel upgrades are really easy (GPU
issue)</li>
  <li>Things just work (WOW private server)</li>
  <li>Demonstration with my software package installation</li>
  <li>
    <p>My personal experience and impressions</p>
  </li>
  <li>Up-to-date packages</li>
  <li>Easier to install packages</li>
  <li>Rolling release</li>
</ul>


  </div>

  <div class="date">
    Written on April  3, 2017
  </div>

  
</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          
<a href="mailto:matt.haffner@okstate.edu"><i class="svg-icon email"></i></a>


<a href="https://github.com/mhaffner"><i class="svg-icon github"></i></a>




<a href="https://www.twitter.com/geo_haffner"><i class="svg-icon twitter"></i></a>



        </footer>
      </div>
    </div>
    
  </body>
</html>
